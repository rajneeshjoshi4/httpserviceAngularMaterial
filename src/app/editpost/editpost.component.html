<div fxLayout="row" fxLayoutAlign="space-between center">
  <h2 *ngIf="editMode"><mat-icon class="crrtitleicon">trending_flat</mat-icon> CR Request: {{post.CrId}}</h2>
  <h2 *ngIf="!editMode">New Change Request</h2>
  <div class="tools">
    <!-- <button mat-mini-fab color="basic" routerLink="/">
        <mat-icon>undo</mat-icon>
      </button> -->
    <button mat-mini-fab color="primary" routerLink="/addPost">
      <mat-icon>add</mat-icon>
    </button>
  </div>

</div>


<mat-card>
  <form [formGroup]="editPostForm">
    <div fxLayout="row" fxLayoutGap="80px">
      <div fxFlex="50" fxLayout="column">
        <div fxFlex="100" fxLayout="row" fxLayoutGap="40px" class="fromrow">
          <div fxFlex="50">
            <mat-form-field class="full-width">
              <input formControlName="ProjectId" matInput placeholder="Project Id">
              <input formControlName="CrId" matInput placeholder="CR NO" style="display:none">
            </mat-form-field>
          </div>
          <div fxFlex="50">
            <mat-form-field class="full-width">
              <input formControlName="RaisedOn" matInput [matDatepicker]="picker" placeholder="Raised On">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
        </div>

        <div fxFlex="100" fxLayout="row" fxLayoutGap="40px" class="fromrow">
          <mat-radio-group formControlName="RaisedBy" aria-label="Select an option" class="radiobuttons" color="primary">
            <label>Raised By</label>
            <mat-radio-button value=2002>Client</mat-radio-button>
            <mat-radio-button value=2003>Compunnal</mat-radio-button>
          </mat-radio-group>
        </div>

        <div fxFlex="100" fxLayout="row" fxLayoutGap="40px" class="fromrow">
          <div fxFlex="50">
            <mat-form-field class="full-width">
              <input formControlName="EffortHours" matInput placeholder="Effort" value="">
              <mat-icon matSuffix>access_time</mat-icon>
            </mat-form-field>
          </div>
          <div fxFlex="50">
            <mat-form-field class="full-width">
              <input formControlName="Total" matInput placeholder="Total" value="">
              <mat-icon matSuffix>monetization_on</mat-icon>
            </mat-form-field>
          </div>
        </div>
        <div fxFlex="100" fxLayout="row" fxLayoutGap="40px" class="fromrow">
          <mat-file-upload class="fileupload"  [labelText]="'CR Document'"></mat-file-upload>
          <!-- <label>attachment:</label>
          <input formControlName="attachment" type="text" /> -->
        </div>


      </div>
      <div fxFlex="50" fxLayout="column">
        <div fxFlex="100" class="fromrow">
          <mat-form-field class="full-width">
            <textarea formControlName="ChangeDescription" matInput placeholder="Description" class="textarea"></textarea>
          </mat-form-field>
        </div>
        <div fxFlex="100" fxLayout="row" fxLayoutGap="40px" class="fromrow">
          <mat-form-field class="full-width">
            <input value="" formControlName="SharedWithCustomerOn" matInput [matDatepicker]="pickertwo" placeholder="Shared with Client">
            <mat-datepicker-toggle matSuffix [for]="pickertwo"></mat-datepicker-toggle>
            <mat-datepicker #pickertwo></mat-datepicker>
          </mat-form-field>

          <mat-form-field class="full-width">
            <mat-select formControlName="ApprovalStatus" placeholder="Status">
              <mat-option value=1001>Pending</mat-option>
              <mat-option value=1002>Approved</mat-option>
              <mat-option value=1003>On Hold</mat-option>
              <mat-option value=1004>Disapproved</mat-option>
            </mat-select>
          </mat-form-field>

        </div>
        <div fxFlex="100" class="fromrow">
            <mat-form-field class="full-width">
              <textarea formControlName="Comments" matInput placeholder="Comments"></textarea>
            </mat-form-field>
          </div>
      </div>
    </div>

    <div>
      <button *ngIf="!editMode" mat-raised-button color="primary" type="submit" (click)="onSubmit()">SAVE</button>
      <button *ngIf="editMode" mat-raised-button color="primary" type="submit" (click)="onSubmit()">UPDATE</button>
      <button mat-button routerLink="/">CANCEL</button>
    </div>
  </form>

  <div *ngIf="isAdded">{{confermationStr}}</div>
  <!-- <span *ngIf="editMode">{{id}}</span> -->
</mat-card>
